(this["webpackJsonptsf-trail-status"]=this["webpackJsonptsf-trail-status"]||[]).push([[0],{43:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a(21),c=a.n(n),s=a(11),i=a(14),l=a(33),u=a(34),o=a(18),d=a(12),b="SET_TRAIL_CONDITIONS",j="UPDATE_TRAIL_CONDITIONS",p={app:{trailConditions:[]},user:{userIsLoggedIn:!1}},h="SET_USER_LOGGED_IN",f="SET_USER_LOGGED_OUT",O=Object(i.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.app,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{trailConditions:[].concat(Object(o.a)(e.trailConditions),Object(o.a)(t.trailData))});case j:return Object(d.a)(Object(d.a)({},e),{},{trailConditions:[].concat(Object(o.a)(e.trailConditions.slice(0,t.updatedTrailData.id)),[t.updatedTrailData],Object(o.a)(e.trailConditions.slice(t.updatedTrailData.id+1)))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case f:return Object(d.a)(Object(d.a)({},e),{},{userIsLoggedIn:t.userIsLoggedIn});default:return e}}}),m=function(e,t){return O(e,t)};var v,x=(v=p,{store:Object(i.createStore)(m,v,Object(l.composeWithDevTools)(Object(i.applyMiddleware)(u.a)))}).store,g=(a(43),a(27)),N=(a(44),a(9)),y=a.n(N),w=a(13),C=(a(46),a(16));a(48);var I=a(10),S=(a(49),a(3)),T=function(){var e=Object(s.b)(),t=function(e){return"Closed"===e?"bg-danger table-cell":"table-cell"},a=function(e){return"Open"===e?"trail-status-good table-cell":"table-cell"},n=Object(s.c)((function(e){return e.user.userIsLoggedIn})),c=Object(s.c)((function(e){return e.app.trailConditions})),i=Object(r.useState)(""),l=Object(I.a)(i,2),u=l[0],o=l[1],d=Object(r.useState)({status:!1,rowKey:null}),b=Object(I.a)(d,2),p=b[0],h=b[1],f=Object(r.useState)(""),O=Object(I.a)(f,2),m=O[0],v=O[1],x=Object(r.useState)(""),g=Object(I.a)(x,2),N=g[0],T=g[1],D=Object(r.useState)(""),k=Object(I.a)(D,2),L=k[0],E=k[1],_=Object(r.useState)(""),G=Object(I.a)(_,2),V=G[0],A=G[1],F=Object(r.useState)(""),M=Object(I.a)(F,2),K=M[0],P=M[1],R=Object(r.useState)(""),U=Object(I.a)(R,2),J=U[0],W=U[1],Y=function(t){e(function(e,t,a,r,n,c,s){return function(){var i=Object(w.a)(y.a.mark((function i(l){return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,C.a.database().ref("trailList").child(e).update({trailNumber:t,trailName:a,trailDifficulty:r,trailStatus:n,trailCondition:c,lastVisitedDate:s});case 3:return i.next=5,C.a.database().ref("trailList").child(e);case 5:return i.sent.on("value",(function(e){var t=e.val();return l({type:j,updatedTrailData:t})})),i.abrupt("return",null);case 10:return i.prev=10,i.t0=i.catch(0),i.abrupt("return",i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})));return function(e){return i.apply(this,arguments)}}()}(t,m,N,L,V,K,J)),h({status:!1,rowKey:null})};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"table-search",children:Object(S.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)},value:u,className:"table-search-input",placeholder:"Search by trail name"})}),Object(S.jsxs)("table",{className:"table table-striped table-dark table-hover table-responsive-xl",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",className:"table-cell",children:"Trail #"}),Object(S.jsx)("th",{scope:"col",className:"table-cell",children:"Name"}),Object(S.jsx)("th",{scope:"col",className:"table-cell",children:"Difficulty"}),Object(S.jsx)("th",{scope:"col",className:"table-cell",children:"Status"}),Object(S.jsx)("th",{scope:"col",className:"table-cell",children:"Condition"}),Object(S.jsx)("th",{scope:"col",className:"table-cell",children:"Last Visited Date"})]})}),Object(S.jsx)("tbody",{children:c.filter((function(e){return!u||e.trailName.toLowerCase().includes(u.toLowerCase())})).map((function(e,r){return p.status&&p.rowKey===e.id?Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"table-cell",children:Object(S.jsx)("input",{value:m,onChange:function(e){v(e.target.value)}})}),Object(S.jsx)("td",{className:"table-cell",children:Object(S.jsx)("input",{value:N,onChange:function(e){T(e.target.value)}})}),Object(S.jsx)("td",{className:"table-cell",children:Object(S.jsx)("input",{value:L,onChange:function(e){E(e.target.value)}})}),Object(S.jsx)("td",{className:"table-cell",children:Object(S.jsx)("input",{value:V,onChange:function(e){A(e.target.value)}})}),Object(S.jsx)("td",{className:"table-cell",children:Object(S.jsx)("input",{value:K,onChange:function(e){P(e.target.value)}})}),Object(S.jsx)("td",{className:"table-cell",children:Object(S.jsx)("input",{value:J,onChange:function(e){W(e.target.value)}})}),Object(S.jsx)("td",{children:Object(S.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return Y(e.id)},children:"Save"})})]},e.id):Object(S.jsxs)("tr",{className:t(e.trailStatus),children:[Object(S.jsx)("td",{className:"table-cell",children:e.trailNumber},r+2),Object(S.jsx)("td",{className:"table-cell",children:e.trailName},r+3),Object(S.jsx)("td",{className:"table-cell",children:e.trailDifficulty},r+4),Object(S.jsx)("td",{className:a(e.trailStatus),children:e.trailStatus},r+5),Object(S.jsx)("td",{className:"table-cell",children:e.trailCondition},r+6),Object(S.jsx)("td",{className:"table-cell",children:e.lastVisitedDate},r+7),n&&Object(S.jsx)("td",{children:Object(S.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return function(e){var t=e.id,a=e.editedTrailNumber,r=e.editedTrailName,n=e.editedTrailDifficulty,c=e.editedTrailStatus,s=e.editedTrailCondition,i=e.editedLastVisitedDate;h({status:!0,rowKey:t}),v(a),T(r),E(n),A(c),P(s),W(i)}({id:e.id,editedTrailNumber:e.trailNumber,editedTrailName:e.trailName,editedTrailDifficulty:e.trailDifficulty,editedTrailStatus:e.trailStatus,editedTrailCondition:e.trailCondition,editedLastVisitedDate:e.lastVisitedDate})},children:"Edit"})})]},e.id)}))})]})]})};function D(e,t){return function(){var a=Object(w.a)(y.a.mark((function a(r){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=!1,a.prev=1,a.next=4,C.a.auth().signInWithEmailAndPassword(e,t).then((function(e){n=e.user.email}));case 4:return a.abrupt("return",r({type:h,userIsLoggedIn:n}));case 7:return a.prev=7,a.t0=a.catch(1),a.abrupt("return",r({type:h,userIsLoggedIn:n}));case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}a(51);var k=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user.userIsLoggedIn})),a=Object(r.useState)(""),n=Object(I.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)(""),u=Object(I.a)(l,2),o=u[0],d=u[1],b=Object(r.useState)(!1),j=Object(I.a)(b,2),p=j[0],h=j[1],O=function(){var t=Object(w.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e(D(c,o));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(w.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e(function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,C.a.auth().signOut().then((function(){a=!1}));case 4:return e.abrupt("return",t({type:f,userIsLoggedIn:a}));case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t({type:f,userIsLoggedIn:a}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t?t&&Object(S.jsx)("div",{className:"login-form-wrapper",children:Object(S.jsx)("button",{type:"button",onClick:function(e){return m(e)},className:"btn btn-danger login-form-cancel",children:"Logout"})}):Object(S.jsxs)("div",{className:"login-form-wrapper",children:[!p&&Object(S.jsx)("button",{type:"button",onClick:function(){return h(!0)},className:"btn btn-primary",children:"Login"}),p&&Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsxs)("label",{htmlFor:"email",children:["Email address",Object(S.jsx)("input",{type:"email",className:"form-control",id:"InputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(S.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."}),Object(S.jsxs)("label",{htmlFor:"password",children:["Password",Object(S.jsx)("input",{type:"password",className:"form-control",id:"InputPassword1",placeholder:"Password",value:o,onChange:function(e){return d(e.target.value)}})]})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return O(e)},children:"Submit"}),Object(S.jsx)("button",{type:"button",onClick:function(){return h(!1)},className:"btn btn-primary login-form-cancel",children:"Cancel"})]})]})};g.a.initializeApp({apiKey:"AIzaSyA5FM3d8bYOauMETs-qE2VG5-FsLCofs08",authDomain:"tsf-trail-tracker.firebaseapp.com",projectId:"tsf-trail-tracker",storageBucket:"tsf-trail-tracker.appspot.com",messagingSenderId:"14283872575",appId:"1:14283872575:web:5d6bbb0aa4fc1b5aa59b8a",measurementId:"G-JYMNYD8LQV",databaseUrl:"https://tsf-trail-tracker-default-rtdb.firebaseio.com/"}),g.a.analytics();var L=function(){return Object(s.b)()(function(){var e={};return function(){var t=Object(w.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.database().ref("trailList").get().then((function(t){return t.exists()?t.val():a({type:b,noData:e})}));case 3:return r=t.sent,t.abrupt("return",a({type:b,trailData:r}));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}()),Object(S.jsxs)("div",{className:"app",children:[Object(S.jsx)(k,{}),Object(S.jsx)("header",{className:"app-header",children:"TSF Trail Tracker"}),Object(S.jsx)("h3",{className:"app-header-link",children:Object(S.jsx)("a",{href:"https://www.oregon.gov/odf/recreation/guides/tsf-ohv-mapside-map.pdf",children:"Tillamook Trail Map (Non-Georeferenced)"})}),Object(S.jsx)("h3",{className:"app-header-link",children:Object(S.jsx)("a",{href:"https://www.oregon.gov/odf/recreation/guides/tsf-ohv-georeferenced-trail-map.pdf",children:"Tillamook Trail Map (Georeferenced)"})}),Object(S.jsx)(T,{})]})};c.a.render(Object(S.jsx)(s.a,{store:x,children:Object(S.jsx)(L,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.bec22d73.chunk.js.map